<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TetroHashUnlock - Bitcoin Tetris with SHA-256 Puzzles, ML AI, and Sound Effects">
    <meta name="keywords" content="tetris, bitcoin, cryptocurrency, sha256, puzzle, machine-learning, ai, game">
    <meta name="author" content="Giancarlo Vizhnay">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#ffd700">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TetroHashUnlock">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="TetroHashUnlock v3.0 - Modern Edition">
    <meta property="og:description" content="The world's first Bitcoin Tetris with SHA-256 puzzles, ML AI, and immersive sound effects">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://polydeuces32.github.io/TetroHashUnlock/">
    <meta property="og:image" content="https://polydeuces32.github.io/TetroHashUnlock/assets/og-image.png">
    
    <title>TetroHashUnlock v3.0 - Modern Edition</title>
    
    <!-- Modern Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E‚Çø%3C/text%3E%3C/svg%3E">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Modern CSS -->
    <link rel="stylesheet" href="modern-styles.css">
    
    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-logo">
                <div class="bitcoin-icon">‚Çø</div>
                <div class="loading-text">TetroHashUnlock</div>
            </div>
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <div class="loading-status" id="loading-status">Initializing...</div>
            <div class="loading-progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- Background Effects -->
    <div class="background-effects">
        <div class="particles" id="particles"></div>
        <div class="grid-overlay"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="bitcoin-symbol">‚Çø</span>
                <span class="brand-text">TetroHashUnlock</span>
                <span class="version-badge">v3.0</span>
            </div>
            
            <div class="nav-controls">
                <button class="nav-btn" id="theme-toggle" aria-label="Toggle theme">
                    <svg class="theme-icon" viewBox="0 0 24 24">
                        <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"/>
                    </svg>
                </button>
                
                <button class="nav-btn" id="settings-toggle" aria-label="Settings">
                    <svg class="settings-icon" viewBox="0 0 24 24">
                        <path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5a3.5 3.5 0 0 1 -3.5 3.5M19.43 12.98c.04 -.32 .07 -.64 .07 -.98s-.03 -.66 -.07 -.98l2.11 -1.65c.19 -.15 .24 -.42 .12 -.64l-2 -3.46c-.12 -.22 -.39 -.3 -.61 -.22l-2.49 1c-.52 -.4 -1.08 -.73 -1.69 -.98l-.38 -2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0 -.46 .18 -.49 .42l-.38 2.65c-.61 .25 -1.17 .59 -1.69 .98l-2.49 -1c-.23 -.09 -.49 0 -.61 .22l-2 3.46c-.13 .22 -.07 .49 .12 .64l2.11 1.65c-.04 .32 -.07 .65 -.07 .98s.03 .66 .07 .98l-2.11 1.65c-.19 .15 -.24 .42 -.12 .64l2 3.46c.12 .22 .39 .3 .61 .22l2.49 -1c.52 .4 1.08 .73 1.69 .98l.38 2.65c.03 .24 .24 .42 .49 .42h4c.25 0 .46 -.18 .49 -.42l.38 -2.65c.61 -.25 1.17 -.59 1.69 -.98l2.49 1c.23 .09 .49 0 .61 -.22l2 -3.46c.12 -.22 .07 -.49 -.12 -.64l-2.11 -1.65z"/>
                    </svg>
                </button>
                
                <button class="nav-btn" id="sound-toggle" aria-label="Toggle sound">
                    <svg class="sound-icon" viewBox="0 0 24 24">
                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                    </svg>
                </button>
                
                <button class="nav-btn" id="fullscreen-toggle" aria-label="Toggle fullscreen">
                    <svg class="fullscreen-icon" viewBox="0 0 24 24">
                        <path d="M7 14H5v5h5v-2H7v-3zm-2 -4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main class="main-container">
        <!-- Hero Section -->
        <section class="hero-section" id="hero-section">
            <div class="hero-content">
                <div class="hero-title">
                    <h1 class="main-title">
                        <span class="bitcoin-symbol">‚Çø</span>
                        <span class="title-text">TetroHashUnlock</span>
                        <span class="version-tag">v3.0</span>
                    </h1>
                    <p class="hero-subtitle">
                        The world's first <span class="highlight">Bitcoin Tetris</span> with 
                        <span class="highlight">SHA-256 puzzles</span>, 
                        <span class="highlight">Machine Learning AI</span>, and 
                        <span class="highlight">immersive sound effects</span>
                    </p>
                </div>
                
                <div class="hero-stats">
                    <div class="stat-card">
                        <div class="stat-icon">üéÆ</div>
                        <div class="stat-value" id="total-games">0</div>
                        <div class="stat-label">Games Played</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚Çø</div>
                        <div class="stat-value" id="total-sats">0</div>
                        <div class="stat-label">SATs Earned</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="high-score">0</div>
                        <div class="stat-label">High Score</div>
                    </div>
                </div>
                
                <div class="hero-actions">
                    <button class="btn btn-primary btn-large" id="start-game-btn">
                        <span class="btn-icon">üöÄ</span>
                        <span class="btn-text">Start Playing</span>
                    </button>
                    <button class="btn btn-secondary btn-large" id="learn-more-btn">
                        <span class="btn-icon">üìö</span>
                        <span class="btn-text">Learn More</span>
                    </button>
                </div>
            </div>
            
            <div class="hero-visual">
                <div class="tetris-preview" id="tetris-preview">
                    <!-- Animated Tetris preview will be generated here -->
                </div>
            </div>
        </section>

        <!-- Game Mode Selection -->
        <section class="mode-selection" id="mode-selection">
            <div class="section-header">
                <h2 class="section-title">Choose Your Adventure</h2>
                <p class="section-subtitle">Select a game mode and start earning Bitcoin SATs</p>
            </div>
            
            <div class="mode-grid">
                <div class="mode-card" data-mode="normal">
                    <div class="mode-card-header">
                        <div class="mode-icon">üß±</div>
                        <div class="mode-badge">Classic</div>
                    </div>
                    <div class="mode-card-content">
                        <h3 class="mode-title">Normal Tetris</h3>
                        <p class="mode-description">Classic falling blocks with SAT rewards and coin sounds</p>
                        <div class="mode-features">
                            <span class="feature-tag">SAT Rewards</span>
                            <span class="feature-tag">Sound Effects</span>
                            <span class="feature-tag">Progressive Levels</span>
                        </div>
                    </div>
                    <div class="mode-card-footer">
                        <button class="btn btn-outline">Play Now</button>
                    </div>
                </div>

                <div class="mode-card" data-mode="puzzle">
                    <div class="mode-card-header">
                        <div class="mode-icon">üîê</div>
                        <div class="mode-badge">Crypto</div>
                    </div>
                    <div class="mode-card-content">
                        <h3 class="mode-title">Bitcoin Puzzle</h3>
                        <p class="mode-description">Solve SHA-256 puzzles for Bitcoin SATs using real cryptographic logic</p>
                        <div class="mode-features">
                            <span class="feature-tag">SHA-256</span>
                            <span class="feature-tag">Crypto Puzzles</span>
                            <span class="feature-tag">High Rewards</span>
                        </div>
                    </div>
                    <div class="mode-card-footer">
                        <button class="btn btn-outline">Solve Puzzles</button>
                    </div>
                </div>

                <div class="mode-card" data-mode="ai-battle">
                    <div class="mode-card-header">
                        <div class="mode-icon">ü§ñ</div>
                        <div class="mode-badge">AI</div>
                    </div>
                    <div class="mode-card-content">
                        <h3 class="mode-title">AI Battle</h3>
                        <p class="mode-description">Watch AI vs AI competition with machine learning algorithms</p>
                        <div class="mode-features">
                            <span class="feature-tag">Machine Learning</span>
                            <span class="feature-tag">AI Competition</span>
                            <span class="feature-tag">Real-time Learning</span>
                        </div>
                    </div>
                    <div class="mode-card-footer">
                        <button class="btn btn-outline">Watch Battle</button>
                    </div>
                </div>

                <div class="mode-card" data-mode="learning">
                    <div class="mode-card-header">
                        <div class="mode-icon">üéì</div>
                        <div class="mode-badge">Learning</div>
                    </div>
                    <div class="mode-card-content">
                        <h3 class="mode-title">Learning Mode</h3>
                        <p class="mode-description">AI learns from your moves and provides intelligent suggestions</p>
                        <div class="mode-features">
                            <span class="feature-tag">AI Assistant</span>
                            <span class="feature-tag">Move Prediction</span>
                            <span class="feature-tag">Adaptive Learning</span>
                        </div>
                    </div>
                    <div class="mode-card-footer">
                        <button class="btn btn-outline">Learn Together</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Game Area -->
        <section class="game-area" id="game-area">
            <div class="game-layout">
                <!-- Game Board -->
                <div class="game-board-container">
                    <div class="game-board-header">
                        <h3 class="board-title">Game Board</h3>
                        <div class="board-controls">
                            <button class="control-btn" id="pause-btn" aria-label="Pause game">
                                <svg viewBox="0 0 24 24">
                                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                                </svg>
                            </button>
                            <button class="control-btn" id="restart-btn" aria-label="Restart game">
                                <svg viewBox="0 0 24 24">
                                    <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div class="game-board" id="game-board">
                        <!-- Game grid will be generated here -->
                    </div>
                    
                    <div class="game-board-footer">
                        <div class="next-piece-container">
                            <h4 class="next-piece-title">Next Piece</h4>
                            <div class="next-piece-display" id="next-piece">
                                <!-- Next piece preview -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Game Info Panel -->
                <aside class="game-info-panel">
                    <!-- Stats Panel -->
                    <div class="info-card stats-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-icon">üìä</span>
                                Statistics
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="stat-row">
                                <span class="stat-label">Score</span>
                                <span class="stat-value" id="score">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Lines</span>
                                <span class="stat-value" id="lines">0</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Level</span>
                                <span class="stat-value" id="level">1</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time</span>
                                <span class="stat-value" id="game-time">00:00</span>
                            </div>
                        </div>
                    </div>

                    <!-- SAT Wallet Panel -->
                    <div class="info-card wallet-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-icon">üí∞</span>
                                SAT Wallet
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="wallet-balance">
                                <div class="balance-amount" id="wallet-balance">0</div>
                                <div class="balance-unit">sats</div>
                            </div>
                            <div class="wallet-stats">
                                <div class="wallet-stat">
                                    <span class="wallet-stat-label">Earned This Game</span>
                                    <span class="wallet-stat-value" id="earned-this-game">0</span>
                                </div>
                                <div class="wallet-stat">
                                    <span class="wallet-stat-label">Total Earned</span>
                                    <span class="wallet-stat-value" id="total-earned">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Panel -->
                    <div class="info-card ai-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-icon">ü§ñ</span>
                                AI Assistant
                            </h3>
                            <button class="toggle-btn" id="ai-toggle">
                                <span class="toggle-slider"></span>
                            </button>
                        </div>
                        <div class="card-content" id="ai-content">
                            <div class="ai-predictions">
                                <h4 class="predictions-title">Move Predictions</h4>
                                <div class="prediction-grid">
                                    <div class="prediction-item">
                                        <span class="prediction-label">Left</span>
                                        <div class="prediction-bar">
                                            <div class="prediction-fill" id="pred-left" style="width: 0%"></div>
                                        </div>
                                        <span class="prediction-value" id="pred-left-value">0%</span>
                                    </div>
                                    <div class="prediction-item">
                                        <span class="prediction-label">Right</span>
                                        <div class="prediction-bar">
                                            <div class="prediction-fill" id="pred-right" style="width: 0%"></div>
                                        </div>
                                        <span class="prediction-value" id="pred-right-value">0%</span>
                                    </div>
                                    <div class="prediction-item">
                                        <span class="prediction-label">Rotate</span>
                                        <div class="prediction-bar">
                                            <div class="prediction-fill" id="pred-rotate" style="width: 0%"></div>
                                        </div>
                                        <span class="prediction-value" id="pred-rotate-value">0%</span>
                                    </div>
                                    <div class="prediction-item">
                                        <span class="prediction-label">Drop</span>
                                        <div class="prediction-bar">
                                            <div class="prediction-fill" id="pred-drop" style="width: 0%"></div>
                                        </div>
                                        <span class="prediction-value" id="pred-drop-value">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Puzzle Panel -->
                    <div class="info-card puzzle-card" id="puzzle-panel">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-icon">üîê</span>
                                Bitcoin Puzzle
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="puzzle-info">
                                <div class="puzzle-hash">
                                    <label class="puzzle-label">Target Hash:</label>
                                    <div class="hash-display" id="target-hash">Loading...</div>
                                </div>
                                <div class="puzzle-piece">
                                    <label class="puzzle-label">Current Piece:</label>
                                    <div class="piece-display" id="current-piece">-</div>
                                </div>
                                <div class="puzzle-status">
                                    <div class="status-indicator" id="puzzle-status">Place the correct piece!</div>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="check-solution">Check Solution</button>
                        </div>
                    </div>

                    <!-- Controls Panel -->
                    <div class="info-card controls-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <span class="card-icon">üéÆ</span>
                                Controls
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="controls-grid">
                                <div class="control-item">
                                    <kbd class="control-key">‚Üê</kbd>
                                    <span class="control-action">Move Left</span>
                                </div>
                                <div class="control-item">
                                    <kbd class="control-key">‚Üí</kbd>
                                    <span class="control-action">Move Right</span>
                                </div>
                                <div class="control-item">
                                    <kbd class="control-key">‚Üì</kbd>
                                    <span class="control-action">Drop Fast</span>
                                </div>
                                <div class="control-item">
                                    <kbd class="control-key">‚Üë</kbd>
                                    <span class="control-action">Rotate</span>
                                </div>
                                <div class="control-item">
                                    <kbd class="control-key">Space</kbd>
                                    <span class="control-action">Rotate</span>
                                </div>
                                <div class="control-item">
                                    <kbd class="control-key">P</kbd>
                                    <span class="control-action">Check Puzzle</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </section>
    </main>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Settings</h2>
                <button class="modal-close" id="settings-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3 class="settings-section-title">Audio</h3>
                    <div class="setting-item">
                        <label class="setting-label">Sound Effects</label>
                        <div class="setting-control">
                            <input type="range" class="slider" id="sound-volume" min="0" max="100" value="80">
                            <span class="slider-value" id="sound-volume-value">80%</span>
                        </div>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">Background Music</label>
                        <div class="setting-control">
                            <input type="range" class="slider" id="music-volume" min="0" max="100" value="50">
                            <span class="slider-value" id="music-volume-value">50%</span>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3 class="settings-section-title">Gameplay</h3>
                    <div class="setting-item">
                        <label class="setting-label">Game Speed</label>
                        <div class="setting-control">
                            <input type="range" class="slider" id="game-speed" min="1" max="10" value="5">
                            <span class="slider-value" id="game-speed-value">5</span>
                        </div>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">AI Difficulty</label>
                        <div class="setting-control">
                            <input type="range" class="slider" id="ai-difficulty" min="1" max="10" value="5">
                            <span class="slider-value" id="ai-difficulty-value">5</span>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3 class="settings-section-title">Display</h3>
                    <div class="setting-item">
                        <label class="setting-label">Theme</label>
                        <div class="setting-control">
                            <select class="select" id="theme-select">
                                <option value="dark">Dark</option>
                                <option value="light">Light</option>
                                <option value="auto">Auto</option>
                            </select>
                        </div>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">Animations</label>
                        <div class="setting-control">
                            <label class="toggle">
                                <input type="checkbox" id="animations-toggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="reset-settings">Reset to Default</button>
                <button class="btn btn-primary" id="save-settings">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="modal" id="game-over-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Game Over!</h2>
            </div>
            <div class="modal-body">
                <div class="game-over-stats">
                    <div class="final-stat">
                        <span class="final-stat-label">Final Score</span>
                        <span class="final-stat-value" id="final-score">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-stat-label">Lines Cleared</span>
                        <span class="final-stat-value" id="final-lines">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-stat-label">SATs Earned</span>
                        <span class="final-stat-value" id="final-sats">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-stat-label">Play Time</span>
                        <span class="final-stat-value" id="final-time">00:00</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="back-to-menu">Back to Menu</button>
                <button class="btn btn-primary" id="play-again">Play Again</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Modern JavaScript -->
    <script src="modern-engine.js"></script>
</body>
</html>
